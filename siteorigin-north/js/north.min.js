!function(f){var s={x:0,y:0};f(document).on("mousemove",function(o){s={x:o.pageX,y:o.pageY}}),f.fn.burstAnimation=function(o){var n=f.extend({event:"click",container:"parent"},o);return f(this).each(function(){var o=f(this),t="parent"===n.container?o.parent():o.closest(n.container),i=f('<div class="burst-animation-overlay"></div>'),e=f('<div class="burst-circle"></div>').appendTo(i);o.on(n.event,function(){i.appendTo(t),e.css({top:s.y-t.offset().top,left:s.x-t.offset().left,opacity:.1,scale:1}).transition({opacity:0,scale:t.width()},500,"ease",function(){i.detach()})})})},f.fn.northIsVisible=function(){var o=this[0].getBoundingClientRect();return 0<=o.bottom&&0<=o.right&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)};function p(o,t){var i=0;return f("#masthead").hasClass("sticky-menu")&&f("#masthead").data("scale-logo")?void 0!==o&&o.offset().top<48?i+=f("#masthead").outerHeight():f(".site-branding").outerHeight()>f("#site-navigation").outerHeight()||void 0!==o&&t&&48<o.offset().top?i+=f("#masthead").outerHeight()*siteoriginNorth.logoScale:i+=f("#masthead").height()+(f("#masthead").innerHeight()-f("#masthead").height()):f("#masthead").hasClass("sticky-menu")&&(i+=f("#masthead").outerHeight()),f("body").hasClass("admin-bar")&&(i+=f("#wpadminbar").outerHeight()),i}if(f.fn.northSmoothScroll=function(){f(this).on("click",function(o){var t=f(this),i=f("[name="+this.hash.slice(1)+"]").length?f("[name="+this.hash.slice(1)+"]"):f(t.get(0).hash);if(i.length)return f("html, body").stop().animate({scrollTop:i.offset().top-p(i)},1e3),!1})},f(".entry-meta a").on("mouseenter",function(){f(this).closest("li").addClass("hovering")}),f(".entry-meta a").on("mouseout",function(){f(this).closest("li").removeClass("hovering")}),void 0!==f.fn.fitVids&&siteoriginNorth.fitvids&&f(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(f("body").css("cursor","pointer"),f("body").addClass("ios")),f(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){f(this).on("click touchend",function(o){var t=f(this);o.stopPropagation(),"click"!=o.type&&(t.parent().hasClass("hover")||(f(".menu-item.hover").removeClass("hover"),t.parents(".menu-item").addClass("hover"),o.preventDefault()),f(document).one("click",function(){t.parent().removeClass("hover")}))})})),f("body.no-js").removeClass("no-js"),f("body").hasClass("css3-animations")){f("#primary-menu > li > ul.sub-menu").each(function(){var o=f(this),t=-(o.parents("li").width()-o.width())/2;o.css("left",-t)}),f(".menu-item").children("a").on("focusin",function(){f(this).parents("ul, li").addClass("focus")}),f(".menu-item").children("a").on("click",function(){f(this).parents("ul, li").removeClass("focus")}),f(".menu-item").children("a").on("focusout",function(){f(this).parents("ul, li").removeClass("focus")}),f(".main-navigation ul ul li a").burstAnimation({event:"click",container:"parent"})}var e=!1;f("#mobile-menu-button").on("click",function(o){o.preventDefault();var t=f(this);if(t.toggleClass("to-close"),!1===e){e=f("<div></div>").append(f(".main-navigation .menu ul, .main-navigation ul.menu").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide(),f("#header-search form").length&&e.append(f("#header-search form").clone()),f(".main-navigation .shopping-cart").length&&e.append(f(".main-navigation .shopping-cart .shopping-cart-link").clone()),e.find("#primary-menu").show().css("opacity",1),e.find(".menu-item-has-children > a").addClass("has-dropdown"),e.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="north-icon-next"></i></button>'),e.find(".dropdown-toggle").on("click",function(o){o.preventDefault(),f(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),e.find(".has-dropdown").on("click",function(o){void 0!==f(this).attr("href")&&"#"!=f(this).attr("href")||(o.preventDefault(),f(this).siblings(".dropdown-toggle").trigger("click"))});function i(){if(f("#masthead").hasClass("sticky-menu")){var o="fixed"===f("#wpadminbar").css("position")?f("#wpadminbar").outerHeight():0,t=f("#topbar").outerHeight(),i=f("#masthead").innerHeight();if(f("body").hasClass("no-topbar")||!f("body").hasClass("no-topbar")&&f("body").hasClass("topbar-out"))var e=f(window).height()-i-o;else if(!f("body").hasClass("no-topbar")&&!f("body").hasClass("topbar-out"))e=f(window).height()-i-o-t;f("#mobile-navigation").css("max-height",e)}}i(),f(window).on("resize",i),f("#mobile-navigation").on("scroll",i)}e.slideToggle("fast"),f("#mobile-navigation a").on("click",function(o){f(this).hasClass("has-dropdown")&&(void 0===f(this).attr("href")||"#"===f(this).attr("href"))||(e.is(":visible")&&e.slideUp("fast"),t.removeClass("to-close"))}),siteoriginNorth.smoothScroll&&f('#mobile-navigation a[href*="#"]:not([href="#"])').northSmoothScroll()});function o(){var o=window.pageYOffset||document.documentElement.scrollTop;(f("#masthead").length?f("#masthead").outerHeight():f(window).outerHeight()/2)<o?f("#scroll-to-top").hasClass("show")||f("#scroll-to-top").css("pointer-events","auto").addClass("show"):f("#scroll-to-top").hasClass("show")&&f("#scroll-to-top").css("pointer-events","none").removeClass("show")}o(),f(window).on("scroll",o),f("#scroll-to-top").on("click",function(){f("html,body").stop().animate({scrollTop:0})});var t=f("#header-search");if(f("#masthead .north-search-icon").on("click",function(){t.fadeIn("fast"),t.find("form").css("margin-top",-t.find("form").outerHeight()/2),t.find('input[type="search"]').trigger("focus").trigger("select"),t.find("#close-search").addClass("animate-in")}),t.find("#close-search").on("click",function(){t.fadeOut(350),f(this).removeClass("animate-in")}),f(window).on("scroll",function(){t.is(":visible")&&t.find("form").css("margin-top",-t.find("form").outerHeight()/2)}),f("#header-search input[type=search]").on("focusout",function(o){f("#close-search.animate-in").trigger("click")}),f(document).on("keyup",function(o){27==o.keyCode&&f("#close-search.animate-in").trigger("click")}),f("#wp-calendar tbody td:has(a)").addClass("has-link"),f(document).ready(function(){"function"==typeof f.fn.flexslider&&f(".gallery-format-slider").flexslider({animation:"slide"})}),location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){setTimeout(function(){window.scrollTo(0,0)},1);var b=!0}f(window).on("load",function(){siteoriginNorth.logoScale=parseFloat(siteoriginNorth.logoScale),siteoriginNorth.smoothScroll&&f('#site-navigation a[href*="#"]:not([href="#"])').add('a[href*="#"]:not([href="#"])').not('.lsow-tab a[href*="#"]:not([href="#"]), .wc-tabs a[href*="#"]:not([href="#"]), .iw-so-tab-title a[href*="#"]:not([href="#"]), .comment-navigation a[href*="#"]').northSmoothScroll();var e=f("#masthead"),n={top:parseInt(e.css("padding-top")),bottom:parseInt(e.css("padding-bottom"))};if(e.data("scale-logo")){var s=e.find(".site-branding img"),o=s.width(),t=s.height(),a=o*siteoriginNorth.logoScale,r=t*siteoriginNorth.logoScale;f(".site-branding img").wrap('<span class="custom-logo-wrapper"></span>');function i(){var o=e.find(".site-branding > *"),t=window.pageYOffset||document.documentElement.scrollTop;if(0<t?e.css({"padding-top":n.top*siteoriginNorth.logoScale,"padding-bottom":n.bottom*siteoriginNorth.logoScale}):e.css({"padding-top":n.top,"padding-bottom":n.bottom}),s.length)if(0<t){var i=siteoriginNorth.logoScale+Math.max(0,48-t)/48*(1-siteoriginNorth.logoScale);s.height()==r&&s.width()==a&&i==siteoriginNorth.logoScale||f(".site-branding img").css({width:100*i+"%"})}else f(".site-branding img").css({width:""});else 0<t?o.css("transform","scale("+siteoriginNorth.logoScale+")"):o.css("transform","scale(1)")}i(),f(window).on("scroll resize",i)}if(f("#masthead").hasClass("sticky-menu")){e=f("#masthead");function l(){var o=f(window).width()<=600;return(d.length&&!o?d.outerHeight():0)+(c.length&&siteoriginNorth.stickyTopbar?c.outerHeight():0)}var h=f('<div class="masthead-sentinel"></div>').insertAfter(e),c=f("#topbar"),d=f("#wpadminbar");f(window).on("scroll",function(){f(window).scrollTop()>l()?f(e).addClass("floating"):f(e).removeClass("floating")}).trigger("scroll");var m=function(){f("body").hasClass("mobile-header-ns")&&f(window).width()<siteoriginNorth.collapse||(f("body").hasClass("page-layout-menu-overlap")||h.css("height",e.outerHeight()),f("body").hasClass("no-topbar")||c.northIsVisible()||f("body").addClass("topbar-out"),c.length&&f("body").hasClass("topbar-out")&&c.northIsVisible()&&f("body").removeClass("topbar-out"),f("body").hasClass("no-topbar")||!f("body").hasClass("no-topbar")&&f("body").hasClass("topbar-out")?e.css("position","fixed"):f("body").hasClass("no-topbar")||f("body").hasClass("topbar-out")||e.css("position","absolute"),f("body").hasClass("no-topbar")&&!f(window).scrollTop()&&f("body").addClass("topbar-out"),f(window).width()<601&&f("body").hasClass("admin-bar")&&(d.northIsVisible()||(f("body").hasClass("no-topbar")||!f("body").hasClass("no-topbar")&&f("body").hasClass("topbar-out"))&&e.addClass("mobile-sticky-menu"),d.northIsVisible()&&e.removeClass("mobile-sticky-menu")),600<f(window).width()&&e.hasClass("mobile-sticky-menu")&&e.removeClass("mobile-sticky-menu"))};if(0!==l()&&siteoriginNorth.stickyTopbar){function u(){var o=f(window).width()<=600;c.css({position:"sticky",top:d.length&&!o?d.outerHeight():0}),e.css({position:"sticky",top:l()})}u(),f(window).on("resize",u)}else m(),f(window).on("resize scroll",m)}if(void 0!==b){var g=f(window.location.hash);g.length&&setTimeout(function(){f("html, body").stop().animate({scrollTop:g.offset().top-p(g,!0)},0,function(){f("#masthead").hasClass("sticky-menu")&&m()})},100)}})}(jQuery);